{"ast":null,"code":"var _jsxFileName = \"/Users/jonathancook/Desktop/Research/dep-graph/src/components/GraphDisplay.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useCallback, useRef, useState, forwardRef, useImperativeHandle } from 'react';\nimport ReactFlow, { useNodesState, useEdgesState, useReactFlow } from 'reactflow';\nimport 'reactflow/dist/style.css';\nimport { applyStyles } from '../utils/GraphUtils';\nimport ace from 'ace-builds';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GraphDisplay = /*#__PURE__*/_s(/*#__PURE__*/forwardRef(_c = _s(({\n  nodes: initialNodes,\n  edges: initialEdges,\n  order,\n  editorRef,\n  activeTab,\n  noColor\n}, ref) => {\n  _s();\n  const [nodes, setNodesState, onNodesChange] = useNodesState([]);\n  const [edges, setEdgesState, onEdgesChange] = useEdgesState([]);\n  const {\n    fitView\n  } = useReactFlow();\n  const animationTimeoutRef = useRef([]);\n  const activeTabRef = useRef(activeTab);\n  const noColorRef = useRef(noColor);\n  const [coloringStarted, setColoringStarted] = useState(false);\n  const markerIdsRef = useRef([]);\n  const colorClassesRef = useRef(new Map());\n  const savedHighlightsRef = useRef([]);\n  const savedDecompHighlightsRef = useRef([]);\n  const temporaryHighlightsRef = useRef([]); // Temporary highlights for clicked nodes\n\n  const createEmphasisClass = () => {\n    if (!colorClassesRef.current.has('emphasis')) {\n      const style = document.createElement('style');\n      style.innerHTML = `\n          .ace-emphasis-line {\n            font-weight: bold;\n            background-color: rgba(255, 191, 0, 0.3) !important; /* Yellow background for emphasis */\n          }\n          .ace_emphasis {\n            font-weight: bold;\n            background-color: rgba(255, 191, 0, 0.3); /* Yellow background for gutter emphasis */\n          }\n        `;\n      document.head.appendChild(style);\n      colorClassesRef.current.set('emphasis', 'ace-emphasis-line');\n    }\n    return colorClassesRef.current.get('emphasis');\n  };\n  const clearHighlights = useCallback(() => {\n    if (editorRef.current && editorRef.current.editor) {\n      const session = editorRef.current.editor.getSession();\n      markerIdsRef.current.forEach(markerId => session.removeMarker(markerId));\n      markerIdsRef.current = [];\n    }\n  }, [editorRef]);\n  const applyHighlights = useCallback((highlights, useEmphasis = false) => {\n    if (editorRef.current && editorRef.current.editor) {\n      const session = editorRef.current.editor.getSession();\n      markerIdsRef.current.forEach(markerId => session.removeMarker(markerId));\n      markerIdsRef.current = [];\n      highlights.forEach(({\n        lineNumbers,\n        color\n      }) => {\n        const colorClass = useEmphasis ? createEmphasisClass() : createColorClass(color);\n        lineNumbers.forEach(line => {\n          const Range = ace.require('ace/range').Range;\n          const markerId = session.addMarker(new Range(line - 1, 0, line - 1, 1), colorClass, 'fullLine');\n          markerIdsRef.current.push(markerId);\n        });\n      });\n    }\n  }, [editorRef, createEmphasisClass]);\n  const applyHighlightsForTab = useCallback(currentTab => {\n    if (noColorRef.current) {\n      clearHighlights();\n      return;\n    }\n    const highlights = currentTab === 'Original' ? savedHighlightsRef.current : savedDecompHighlightsRef.current;\n    applyHighlights(highlights.concat(temporaryHighlightsRef.current));\n  }, [applyHighlights, clearHighlights]);\n  const handleNodeClick = useCallback(node => {\n    const highlights = activeTabRef.current === 'Original' ? node.code_lines : node.decomp_code_lines;\n    if (highlights) {\n      temporaryHighlightsRef.current = [{\n        lineNumbers: highlights,\n        color: '#ffbf00'\n      }];\n      applyHighlights(temporaryHighlightsRef.current, true); // Apply emphasis style\n    }\n  }, [applyHighlights]);\n  useEffect(() => {\n    if (initialNodes.length && initialEdges.length) {\n      const {\n        styledNodes,\n        styledEdges\n      } = applyStyles(initialNodes, initialEdges);\n      setNodesState(styledNodes);\n      setEdgesState(styledEdges);\n      fitView();\n    }\n  }, [initialNodes, initialEdges, setNodesState, setEdgesState, fitView]);\n  const runColorAnimation = useCallback(() => {\n    if (!order || !order.length) return;\n    animationTimeoutRef.current.forEach(clearTimeout);\n    animationTimeoutRef.current = [];\n    savedHighlightsRef.current = [];\n    savedDecompHighlightsRef.current = [];\n    temporaryHighlightsRef.current = [];\n    let delay = 500;\n    order.forEach(([id, color]) => {\n      animationTimeoutRef.current.push(setTimeout(() => {\n        setNodesState(nds => nds.map(node => {\n          if (node.id === id) {\n            if (node.code_lines) {\n              savedHighlightsRef.current.push({\n                lineNumbers: node.code_lines,\n                color\n              });\n            }\n            if (node.decomp_code_lines) {\n              savedDecompHighlightsRef.current.push({\n                lineNumbers: node.decomp_code_lines,\n                color\n              });\n            }\n            if (!noColorRef.current) {\n              applyHighlightsForTab(activeTabRef.current);\n            } else {\n              clearHighlights();\n            }\n            return {\n              ...node,\n              style: {\n                ...node.style,\n                background: color\n              }\n            };\n          }\n          return node;\n        }));\n        setEdgesState(eds => eds.map(edge => {\n          if (edge.id === id) {\n            return {\n              ...edge,\n              animated: true,\n              style: {\n                ...edge.style,\n                stroke: color,\n                strokeWidth: 6\n              }\n            };\n          }\n          return edge;\n        }));\n      }, delay));\n      delay += 500;\n    });\n  }, [order, setNodesState, setEdgesState, applyHighlightsForTab, clearHighlights]);\n  useImperativeHandle(ref, () => ({\n    resetGraphColors() {\n      animationTimeoutRef.current.forEach(clearTimeout);\n      animationTimeoutRef.current = [];\n      setNodesState(nds => nds.map(node => ({\n        ...node,\n        style: {\n          ...node.style,\n          background: '#D3D3D3'\n        }\n      })));\n      setEdgesState(eds => eds.map(edge => ({\n        ...edge,\n        style: {\n          ...edge.style,\n          stroke: '#D3D3D3'\n        }\n      })));\n      setColoringStarted(false);\n      clearHighlights();\n    }\n  }));\n  useEffect(() => {\n    activeTabRef.current = activeTab;\n    applyHighlightsForTab(activeTab);\n  }, [activeTab, applyHighlightsForTab]);\n  useEffect(() => {\n    if (nodes.length && edges.length && !coloringStarted) {\n      runColorAnimation();\n      setColoringStarted(true);\n    }\n  }, [nodes, edges, runColorAnimation, coloringStarted]);\n  useEffect(() => {\n    noColorRef.current = noColor;\n    if (noColor) {\n      clearHighlights();\n    } else {\n      applyHighlightsForTab(activeTab);\n    }\n  }, [noColor, applyHighlightsForTab, clearHighlights, activeTab]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"graph-display\",\n    children: /*#__PURE__*/_jsxDEV(ReactFlow, {\n      nodes: nodes,\n      edges: edges,\n      onNodesChange: onNodesChange,\n      onEdgesChange: onEdgesChange,\n      fitView: true,\n      onNodeClick: (_, node) => handleNodeClick(node) // Add node click handler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 219,\n    columnNumber: 7\n  }, this);\n}, \"bOL3FJIbyM6eUn0mSqTUh9Jq8fc=\", false, function () {\n  return [useNodesState, useEdgesState, useReactFlow];\n})), \"bOL3FJIbyM6eUn0mSqTUh9Jq8fc=\", false, function () {\n  return [useNodesState, useEdgesState, useReactFlow];\n});\n_c2 = GraphDisplay;\nexport default GraphDisplay;\nvar _c, _c2;\n$RefreshReg$(_c, \"GraphDisplay$forwardRef\");\n$RefreshReg$(_c2, \"GraphDisplay\");","map":{"version":3,"names":["React","useEffect","useCallback","useRef","useState","forwardRef","useImperativeHandle","ReactFlow","useNodesState","useEdgesState","useReactFlow","applyStyles","ace","jsxDEV","_jsxDEV","GraphDisplay","_s","_c","nodes","initialNodes","edges","initialEdges","order","editorRef","activeTab","noColor","ref","setNodesState","onNodesChange","setEdgesState","onEdgesChange","fitView","animationTimeoutRef","activeTabRef","noColorRef","coloringStarted","setColoringStarted","markerIdsRef","colorClassesRef","Map","savedHighlightsRef","savedDecompHighlightsRef","temporaryHighlightsRef","createEmphasisClass","current","has","style","document","createElement","innerHTML","head","appendChild","set","get","clearHighlights","editor","session","getSession","forEach","markerId","removeMarker","applyHighlights","highlights","useEmphasis","lineNumbers","color","colorClass","createColorClass","line","Range","require","addMarker","push","applyHighlightsForTab","currentTab","concat","handleNodeClick","node","code_lines","decomp_code_lines","length","styledNodes","styledEdges","runColorAnimation","clearTimeout","delay","id","setTimeout","nds","map","background","eds","edge","animated","stroke","strokeWidth","resetGraphColors","className","children","onNodeClick","_","fileName","_jsxFileName","lineNumber","columnNumber","_c2","$RefreshReg$"],"sources":["/Users/jonathancook/Desktop/Research/dep-graph/src/components/GraphDisplay.js"],"sourcesContent":["import React, { useEffect, useCallback, useRef, useState, forwardRef, useImperativeHandle } from 'react';\nimport ReactFlow, { useNodesState, useEdgesState, useReactFlow } from 'reactflow';\nimport 'reactflow/dist/style.css';\nimport { applyStyles } from '../utils/GraphUtils';\nimport ace from 'ace-builds';\n\nconst GraphDisplay = forwardRef(\n  ({ nodes: initialNodes, edges: initialEdges, order, editorRef, activeTab, noColor }, ref) => {\n    const [nodes, setNodesState, onNodesChange] = useNodesState([]);\n    const [edges, setEdgesState, onEdgesChange] = useEdgesState([]);\n    const { fitView } = useReactFlow();\n    const animationTimeoutRef = useRef([]);\n    const activeTabRef = useRef(activeTab);\n    const noColorRef = useRef(noColor);\n    const [coloringStarted, setColoringStarted] = useState(false);\n    const markerIdsRef = useRef([]);\n    const colorClassesRef = useRef(new Map());\n    const savedHighlightsRef = useRef([]);\n    const savedDecompHighlightsRef = useRef([]);\n    const temporaryHighlightsRef = useRef([]); // Temporary highlights for clicked nodes\n\n    const createEmphasisClass = () => {\n      if (!colorClassesRef.current.has('emphasis')) {\n        const style = document.createElement('style');\n        style.innerHTML = `\n          .ace-emphasis-line {\n            font-weight: bold;\n            background-color: rgba(255, 191, 0, 0.3) !important; /* Yellow background for emphasis */\n          }\n          .ace_emphasis {\n            font-weight: bold;\n            background-color: rgba(255, 191, 0, 0.3); /* Yellow background for gutter emphasis */\n          }\n        `;\n        document.head.appendChild(style);\n        colorClassesRef.current.set('emphasis', 'ace-emphasis-line');\n      }\n      return colorClassesRef.current.get('emphasis');\n    };\n\n    const clearHighlights = useCallback(() => {\n      if (editorRef.current && editorRef.current.editor) {\n        const session = editorRef.current.editor.getSession();\n        markerIdsRef.current.forEach((markerId) => session.removeMarker(markerId));\n        markerIdsRef.current = [];\n      }\n    }, [editorRef]);\n\n    const applyHighlights = useCallback(\n      (highlights, useEmphasis = false) => {\n        if (editorRef.current && editorRef.current.editor) {\n          const session = editorRef.current.editor.getSession();\n          markerIdsRef.current.forEach((markerId) => session.removeMarker(markerId));\n          markerIdsRef.current = [];\n\n          highlights.forEach(({ lineNumbers, color }) => {\n            const colorClass = useEmphasis ? createEmphasisClass() : createColorClass(color);\n            lineNumbers.forEach((line) => {\n              const Range = ace.require('ace/range').Range;\n              const markerId = session.addMarker(new Range(line - 1, 0, line - 1, 1), colorClass, 'fullLine');\n              markerIdsRef.current.push(markerId);\n            });\n          });\n        }\n      },\n      [editorRef, createEmphasisClass]\n    );\n\n    const applyHighlightsForTab = useCallback(\n      (currentTab) => {\n        if (noColorRef.current) {\n          clearHighlights();\n          return;\n        }\n        const highlights = currentTab === 'Original' ? savedHighlightsRef.current : savedDecompHighlightsRef.current;\n        applyHighlights(highlights.concat(temporaryHighlightsRef.current));\n      },\n      [applyHighlights, clearHighlights]\n    );\n\n    const handleNodeClick = useCallback(\n      (node) => {\n        const highlights = activeTabRef.current === 'Original' ? node.code_lines : node.decomp_code_lines;\n        if (highlights) {\n          temporaryHighlightsRef.current = [{ lineNumbers: highlights, color: '#ffbf00' }];\n          applyHighlights(temporaryHighlightsRef.current, true); // Apply emphasis style\n        }\n      },\n      [applyHighlights]\n    );\n\n    useEffect(() => {\n      if (initialNodes.length && initialEdges.length) {\n        const { styledNodes, styledEdges } = applyStyles(initialNodes, initialEdges);\n        setNodesState(styledNodes);\n        setEdgesState(styledEdges);\n        fitView();\n      }\n    }, [initialNodes, initialEdges, setNodesState, setEdgesState, fitView]);\n\n    const runColorAnimation = useCallback(() => {\n      if (!order || !order.length) return;\n\n      animationTimeoutRef.current.forEach(clearTimeout);\n      animationTimeoutRef.current = [];\n      savedHighlightsRef.current = [];\n      savedDecompHighlightsRef.current = [];\n      temporaryHighlightsRef.current = [];\n\n      let delay = 500;\n\n      order.forEach(([id, color]) => {\n        animationTimeoutRef.current.push(\n          setTimeout(() => {\n            setNodesState((nds) =>\n              nds.map((node) => {\n                if (node.id === id) {\n                  if (node.code_lines) {\n                    savedHighlightsRef.current.push({ lineNumbers: node.code_lines, color });\n                  }\n                  if (node.decomp_code_lines) {\n                    savedDecompHighlightsRef.current.push({ lineNumbers: node.decomp_code_lines, color });\n                  }\n\n                  if (!noColorRef.current) {\n                    applyHighlightsForTab(activeTabRef.current);\n                  } else {\n                    clearHighlights();\n                  }\n\n                  return {\n                    ...node,\n                    style: {\n                      ...node.style,\n                      background: color,\n                    },\n                  };\n                }\n                return node;\n              })\n            );\n\n            setEdgesState((eds) =>\n              eds.map((edge) => {\n                if (edge.id === id) {\n                  return {\n                    ...edge,\n                    animated: true,\n                    style: {\n                      ...edge.style,\n                      stroke: color,\n                      strokeWidth: 6,\n                    },\n                  };\n                }\n                return edge;\n              })\n            );\n          }, delay)\n        );\n\n        delay += 500;\n      });\n    }, [order, setNodesState, setEdgesState, applyHighlightsForTab, clearHighlights]);\n\n    useImperativeHandle(ref, () => ({\n      resetGraphColors() {\n        animationTimeoutRef.current.forEach(clearTimeout);\n        animationTimeoutRef.current = [];\n\n        setNodesState((nds) =>\n          nds.map((node) => ({\n            ...node,\n            style: {\n              ...node.style,\n              background: '#D3D3D3',\n            },\n          }))\n        );\n\n        setEdgesState((eds) =>\n          eds.map((edge) => ({\n            ...edge,\n            style: {\n              ...edge.style,\n              stroke: '#D3D3D3',\n            },\n          }))\n        );\n\n        setColoringStarted(false);\n\n        clearHighlights();\n      },\n    }));\n\n    useEffect(() => {\n      activeTabRef.current = activeTab;\n      applyHighlightsForTab(activeTab);\n    }, [activeTab, applyHighlightsForTab]);\n\n    useEffect(() => {\n      if (nodes.length && edges.length && !coloringStarted) {\n        runColorAnimation();\n        setColoringStarted(true);\n      }\n    }, [nodes, edges, runColorAnimation, coloringStarted]);\n\n    useEffect(() => {\n      noColorRef.current = noColor;\n      if (noColor) {\n        clearHighlights();\n      } else {\n        applyHighlightsForTab(activeTab);\n      }\n    }, [noColor, applyHighlightsForTab, clearHighlights, activeTab]);\n\n    return (\n      <div className=\"graph-display\">\n        <ReactFlow\n          nodes={nodes}\n          edges={edges}\n          onNodesChange={onNodesChange}\n          onEdgesChange={onEdgesChange}\n          fitView\n          onNodeClick={(_, node) => handleNodeClick(node)} // Add node click handler\n        />\n      </div>\n    );\n  }\n);\n\nexport default GraphDisplay;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}